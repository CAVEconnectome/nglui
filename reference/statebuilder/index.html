
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://caveconnectome.github.io/nglui/reference/statebuilder/">
      
      
        <link rel="prev" href="../../usage/parser/">
      
      
        <link rel="next" href="../ngl_components/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>statebuilder.base - NGLui Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Funnel+Sans:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Funnel Sans";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#src.nglui.statebuilder.base.NumpyEncoder" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="NGLui Documentation" class="md-header__button md-logo" aria-label="NGLui Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.33 12.91c.09 1.55-.62 3.04-1.89 3.95l.77 1.49c.23.45.26.98.06 1.45-.19.47-.58.84-1.06 1l-.79.25a1.687 1.687 0 0 1-1.86-.55L14.44 18c-.89-.15-1.73-.53-2.44-1.1-.5.15-1 .23-1.5.23-.88 0-1.76-.27-2.5-.79-.53.16-1.07.23-1.62.22-.79.01-1.57-.15-2.3-.45a4.1 4.1 0 0 1-2.43-3.61c-.08-.72.04-1.45.35-2.11-.29-.75-.32-1.57-.07-2.33C2.3 7.11 3 6.32 3.87 5.82c.58-1.69 2.21-2.82 4-2.7 1.6-1.5 4.05-1.66 5.83-.37.42-.11.86-.17 1.3-.17 1.36-.03 2.65.57 3.5 1.64 2.04.53 3.5 2.35 3.58 4.47.05 1.11-.25 2.2-.86 3.13.07.36.11.72.11 1.09m-5-1.41c.57.07 1.02.5 1.02 1.07a1 1 0 0 1-1 1h-.63c-.32.9-.88 1.69-1.62 2.29.25.09.51.14.77.21 5.13-.07 4.53-3.2 4.53-3.25a2.59 2.59 0 0 0-2.69-2.49 1 1 0 0 1-1-1 1 1 0 0 1 1-1c1.23.03 2.41.49 3.33 1.3.05-.29.08-.59.08-.89-.06-1.24-.62-2.32-2.87-2.53-1.25-2.96-4.4-1.32-4.4-.4-.03.23.21.72.25.75a1 1 0 0 1 1 1c0 .55-.45 1-1 1-.53-.02-1.03-.22-1.43-.56-.48.31-1.03.5-1.6.56-.57.05-1.04-.35-1.07-.9a.97.97 0 0 1 .88-1.1c.16-.02.94-.14.94-.77 0-.66.25-1.29.68-1.79-.92-.25-1.91.08-2.91 1.29C6.75 5 6 5.25 5.45 7.2 4.5 7.67 4 8 3.78 9c1.08-.22 2.19-.13 3.22.25.5.19.78.75.59 1.29-.19.52-.77.78-1.29.59-.73-.32-1.55-.34-2.3-.06-.32.27-.32.83-.32 1.27 0 .74.37 1.43 1 1.83.53.27 1.12.41 1.71.4q-.225-.39-.39-.81a1.038 1.038 0 0 1 1.96-.68c.4 1.14 1.42 1.92 2.62 2.05 1.37-.07 2.59-.88 3.19-2.13.23-1.38 1.34-1.5 2.56-1.5m2 7.47-.62-1.3-.71.16 1 1.25zm-4.65-8.61a1 1 0 0 0-.91-1.03c-.71-.04-1.4.2-1.93.67-.57.58-.87 1.38-.84 2.19a1 1 0 0 0 1 1c.57 0 1-.45 1-1 0-.27.07-.54.23-.76.12-.1.27-.15.43-.15.55.03 1.02-.38 1.02-.92"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NGLui Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              statebuilder.base
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/CAVEconnectome/nglui/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    CAVEconnectome/NGLui
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../usage/" class="md-tabs__link">
          
  
  
    
  
  How to Use

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Function Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NGLui Documentation" class="md-nav__button md-logo" aria-label="NGLui Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.33 12.91c.09 1.55-.62 3.04-1.89 3.95l.77 1.49c.23.45.26.98.06 1.45-.19.47-.58.84-1.06 1l-.79.25a1.687 1.687 0 0 1-1.86-.55L14.44 18c-.89-.15-1.73-.53-2.44-1.1-.5.15-1 .23-1.5.23-.88 0-1.76-.27-2.5-.79-.53.16-1.07.23-1.62.22-.79.01-1.57-.15-2.3-.45a4.1 4.1 0 0 1-2.43-3.61c-.08-.72.04-1.45.35-2.11-.29-.75-.32-1.57-.07-2.33C2.3 7.11 3 6.32 3.87 5.82c.58-1.69 2.21-2.82 4-2.7 1.6-1.5 4.05-1.66 5.83-.37.42-.11.86-.17 1.3-.17 1.36-.03 2.65.57 3.5 1.64 2.04.53 3.5 2.35 3.58 4.47.05 1.11-.25 2.2-.86 3.13.07.36.11.72.11 1.09m-5-1.41c.57.07 1.02.5 1.02 1.07a1 1 0 0 1-1 1h-.63c-.32.9-.88 1.69-1.62 2.29.25.09.51.14.77.21 5.13-.07 4.53-3.2 4.53-3.25a2.59 2.59 0 0 0-2.69-2.49 1 1 0 0 1-1-1 1 1 0 0 1 1-1c1.23.03 2.41.49 3.33 1.3.05-.29.08-.59.08-.89-.06-1.24-.62-2.32-2.87-2.53-1.25-2.96-4.4-1.32-4.4-.4-.03.23.21.72.25.75a1 1 0 0 1 1 1c0 .55-.45 1-1 1-.53-.02-1.03-.22-1.43-.56-.48.31-1.03.5-1.6.56-.57.05-1.04-.35-1.07-.9a.97.97 0 0 1 .88-1.1c.16-.02.94-.14.94-.77 0-.66.25-1.29.68-1.79-.92-.25-1.91.08-2.91 1.29C6.75 5 6 5.25 5.45 7.2 4.5 7.67 4 8 3.78 9c1.08-.22 2.19-.13 3.22.25.5.19.78.75.59 1.29-.19.52-.77.78-1.29.59-.73-.32-1.55-.34-2.3-.06-.32.27-.32.83-.32 1.27 0 .74.37 1.43 1 1.83.53.27 1.12.41 1.71.4q-.225-.39-.39-.81a1.038 1.038 0 0 1 1.96-.68c.4 1.14 1.42 1.92 2.62 2.05 1.37-.07 2.59-.88 3.19-2.13.23-1.38 1.34-1.5 2.56-1.5m2 7.47-.62-1.3-.71.16 1 1.25zm-4.65-8.61a1 1 0 0 0-.91-1.03c-.71-.04-1.4.2-1.93.67-.57.58-.87 1.38-.84 2.19a1 1 0 0 0 1 1c.57 0 1-.45 1-1 0-.27.07-.54.23-.76.12-.1.27-.15.43-.15.55.03 1.02-.38 1.02-.92"/></svg>

    </a>
    NGLui Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CAVEconnectome/nglui/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    CAVEconnectome/NGLui
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../usage/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    How to Use
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Function Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Function Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.base
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.base
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.NumpyEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        NumpyEncoder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NumpyEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.NumpyEncoder.default" class="md-nav__link">
    <span class="md-ellipsis">
      
        default
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState" class="md-nav__link">
    <span class="md-ellipsis">
      
        ViewerState
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ViewerState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.viewer" class="md-nav__link">
    <span class="md-ellipsis">
      
        viewer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_annotation_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_annotation_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_annotation_source" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_annotation_source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_boxes" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_boxes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_ellipsoids" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_ellipsoids
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_image_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_image_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_layers_from_client" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_layers_from_client
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_lines" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_lines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_points
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_polylines" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_polylines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_raw_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_raw_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segment_properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segment_properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segmentation_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segmentation_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segments" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segments_from_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segments_from_data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.get_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.map" class="md-nav__link">
    <span class="md-ellipsis">
      
        map
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.set_viewer_properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_viewer_properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_browser" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_browser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_clipboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_clipboard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_dict
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_json_string" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_json_string
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_link" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_link
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_link_shortener" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_link_shortener
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_url" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_url
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.with_datamap" class="md-nav__link">
    <span class="md-ellipsis">
      
        with_datamap
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ngl_components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.ngl_components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ngl_annotations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.ngl_annotations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shaders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.shaders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../skeletons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.skeletons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.helpers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../site_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    statebuilder.site_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../segmentprops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    segmentprops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    parser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.NumpyEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        NumpyEncoder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NumpyEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.NumpyEncoder.default" class="md-nav__link">
    <span class="md-ellipsis">
      
        default
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState" class="md-nav__link">
    <span class="md-ellipsis">
      
        ViewerState
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ViewerState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.viewer" class="md-nav__link">
    <span class="md-ellipsis">
      
        viewer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_annotation_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_annotation_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_annotation_source" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_annotation_source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_boxes" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_boxes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_ellipsoids" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_ellipsoids
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_image_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_image_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_layers_from_client" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_layers_from_client
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_lines" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_lines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_points
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_polylines" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_polylines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_raw_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_raw_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segment_properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segment_properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segmentation_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segmentation_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segments" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.add_segments_from_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_segments_from_data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.get_layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.map" class="md-nav__link">
    <span class="md-ellipsis">
      
        map
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.set_viewer_properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_viewer_properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_browser" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_browser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_clipboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_clipboard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_dict
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_json_string" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_json_string
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_link" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_link
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_link_shortener" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_link_shortener
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.to_url" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_url
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.nglui.statebuilder.base.ViewerState.with_datamap" class="md-nav__link">
    <span class="md-ellipsis">
      
        with_datamap
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>statebuilder.base</h1>

<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">










<p><span class="doc-section-title">Classes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="NumpyEncoder (src.nglui.statebuilder.base.NumpyEncoder)" href="#src.nglui.statebuilder.base.NumpyEncoder">NumpyEncoder</a></code></b>
          –
          <div class="doc-md-description">
            <p>Custom JSON encoder that handles numpy and pandas types.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="ViewerState(target_site=None, target_url=None, layers=None, dimensions=None, *, position=None, scale_imagery=1.0, scale_3d=50000.0, show_slices=False, selected_layer=None, selected_layer_visible=False, layout='xy-3d', base_state=None, interactive=False, infer_coordinates=True, client=None) (src.nglui.statebuilder.base.ViewerState)" href="#src.nglui.statebuilder.base.ViewerState">ViewerState</a></code></b>
          –
          <div class="doc-md-description">
            
          </div>
        </li>
    </ul>







<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="src.nglui.statebuilder.base.NumpyEncoder" class="doc doc-heading">
            <code>NumpyEncoder</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="json.JSONEncoder" href="https://docs.python.org/3/library/json.html#json.JSONEncoder">JSONEncoder</a></code></p>



        <p>Custom JSON encoder that handles numpy and pandas types.</p>
<p>Converts numpy scalars, arrays, and pandas Series to native Python types
for JSON serialization.</p>












<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="default(obj) (src.nglui.statebuilder.base.NumpyEncoder.default)" href="#src.nglui.statebuilder.base.NumpyEncoder.default">default</a></code></b>
            –
            <div class="doc-md-description">
              <p>Override default method to handle numpy types.</p>
            </div>
          </li>
    </ul>






<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.NumpyEncoder.default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Override default method to handle numpy types.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>obj</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#any">any</a></code>)
          –
          <div class="doc-md-description">
            <p>Object to serialize</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#any">any</a></code>
          –
          <div class="doc-md-description">
            <p>JSON-serializable representation of the object</p>
          </div>
        </li>
    </ul>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="src.nglui.statebuilder.base.ViewerState" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ViewerState</span><span class="p">(</span><span class="n">target_site</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dimensions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_imagery</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">scale_3d</span><span class="o">=</span><span class="mf">50000.0</span><span class="p">,</span> <span class="n">show_slices</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">selected_layer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">selected_layer_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;xy-3d&#39;</span><span class="p">,</span> <span class="n">base_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interactive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">infer_coordinates</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">





<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>target_site</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The target site for the viewer. If None, the default site will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_url</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The target URL for the viewer. If None, the default URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>layers</code></b>
              (<code>list of Layer</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The layers to add to the viewer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dimensions</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a> or <a class="autorefs autorefs-internal" title="CoordSpace (src.nglui.statebuilder.ngl_components.CoordSpace)" href="../ngl_components/#src.nglui.statebuilder.ngl_components.CoordSpace">CoordSpace</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The dimensions of the viewer. If None, the default dimensions will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>position</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a> or <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The position of the viewer in 3D space. If None, the default position will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>scale_imagery</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>1.0</code>
)
          –
          <div class="doc-md-description">
            <p>The scale factor for imagery layers. Default is 1.0.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>scale_3d</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>50000.0</code>
)
          –
          <div class="doc-md-description">
            <p>The scale factor for 3D projections. Default is 50000.0.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_slices</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to show cross-sectional slices in the viewer. Default is False.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>selected_layer</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the selected layer. If None, no layer is selected.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>selected_layer_visible</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Whether the selected layer is visible. Default is False.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>layout</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;xy-3d&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The panel layout of the viewer. Default is "xy-3d".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>base_state</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The base state of the viewer. If None, the default state will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>interactive</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Whether the viewer is interactive. Default is False.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>infer_coordinates</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to infer resolution and position from the source information using CloudVolume. Default is True.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><span title="caveclient.CAVEclient">CAVEclient</span></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A CAVE client to use for configuration. If provided, it will be used by default in functions that can accept it.</p>
          </div>
        </li>
    </ul>












<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_annotation_layer(name='annotation', source=None, resolution=None, tags=None, linked_segmentation=True, shader=None, **kwargs) (src.nglui.statebuilder.base.ViewerState.add_annotation_layer)" href="#src.nglui.statebuilder.base.ViewerState.add_annotation_layer">add_annotation_layer</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add an annotation layer, either local or with precomputed annotation source</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_annotation_source(source, name='annotation', linked_segmentation=True, shader=None) (src.nglui.statebuilder.base.ViewerState.add_annotation_source)" href="#src.nglui.statebuilder.base.ViewerState.add_annotation_source">add_annotation_source</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add a precomputed annotation source to the viewer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_boxes(data=None, name='annotation', point_a_column=None, point_b_column=None, segment_column=None, description_column=None, tag_column=None, tag_bools=None, data_resolution=None, tags=None, linked_segmentation=True, shader=None, color=None, swap_visible_segments_on_move=True) (src.nglui.statebuilder.base.ViewerState.add_boxes)" href="#src.nglui.statebuilder.base.ViewerState.add_boxes">add_boxes</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add bounding box annotations to an existing annotation layer or create a new one.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_ellipsoids(data=None, name='annotation', center_column=None, radii_column=None, segment_column=None, description_column=None, tag_column=None, tag_bools=None, data_resolution=None, tags=None, linked_segmentation=True, shader=None, color=None, swap_visible_segments_on_move=True) (src.nglui.statebuilder.base.ViewerState.add_ellipsoids)" href="#src.nglui.statebuilder.base.ViewerState.add_ellipsoids">add_ellipsoids</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add ellipsoid annotations to an existing annotation layer or create a new one.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_image_layer(source, name='imagery', resolution=None, **kwargs) (src.nglui.statebuilder.base.ViewerState.add_image_layer)" href="#src.nglui.statebuilder.base.ViewerState.add_image_layer">add_image_layer</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add an image layer to the viewer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_layer(layers, selected=False) (src.nglui.statebuilder.base.ViewerState.add_layer)" href="#src.nglui.statebuilder.base.ViewerState.add_layer">add_layer</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add a layer to the viewer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_layers_from_client(client=None, imagery=True, segmentation=True, skeleton_source=True, resolution=True, target_url=False, selected_alpha=None, alpha_3d=None, mesh_silhouette=None, imagery_kws=None, segmentation_kws=None) (src.nglui.statebuilder.base.ViewerState.add_layers_from_client)" href="#src.nglui.statebuilder.base.ViewerState.add_layers_from_client">add_layers_from_client</a></code></b>
            –
            <div class="doc-md-description">
              <p>Configure the viewer with information from a CaveClient.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_lines(data=None, name='annotation', point_a_column=None, point_b_column=None, segment_column=None, description_column=None, tag_column=None, tag_bools=None, data_resolution=None, tags=None, linked_segmentation=True, shader=None, color=None, swap_visible_segments_on_move=True) (src.nglui.statebuilder.base.ViewerState.add_lines)" href="#src.nglui.statebuilder.base.ViewerState.add_lines">add_lines</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add lines to an existing annotation layer or create a new one.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_points(data=None, name='annotation', point_column=None, segment_column=None, description_column=None, tag_column=None, tag_bools=None, data_resolution=None, tags=None, linked_segmentation=True, shader=None, color=None, swap_visible_segments_on_move=True) (src.nglui.statebuilder.base.ViewerState.add_points)" href="#src.nglui.statebuilder.base.ViewerState.add_points">add_points</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add points to an existing annotation layer or create a new one.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_polylines(data=None, name='annotation', points_column=None, segment_column=None, description_column=None, tag_column=None, tag_bools=None, data_resolution=None, tags=None, linked_segmentation=True, shader=None, color=None, swap_visible_segments_on_move=True) (src.nglui.statebuilder.base.ViewerState.add_polylines)" href="#src.nglui.statebuilder.base.ViewerState.add_polylines">add_polylines</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add points to an existing annotation layer or create a new one.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_raw_layer(data, name=None, visible=None, archived=None, source_remap=None) (src.nglui.statebuilder.base.ViewerState.add_raw_layer)" href="#src.nglui.statebuilder.base.ViewerState.add_raw_layer">add_raw_layer</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add a layer based on a raw state dictionary. Useful when copying existing layers, but offers limited customization.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_segment_properties(data, id_column='pt_root_id', client=None, label_column=None, description_column=None, string_columns=None, number_columns=None, tag_value_columns=None, tag_bool_columns=None, tag_descriptions=None, allow_disambiguation=True, label_separator='_', label_format_map=None, prepend_col_name=False, random_columns=None, random_column_prefix=None, dry_run=False, name=None) (src.nglui.statebuilder.base.ViewerState.add_segment_properties)" href="#src.nglui.statebuilder.base.ViewerState.add_segment_properties">add_segment_properties</a></code></b>
            –
            <div class="doc-md-description">
              <p>Upload segment properties and add to the layer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_segmentation_layer(source, name='segmentation', resolution=None, segments=None, **kwargs) (src.nglui.statebuilder.base.ViewerState.add_segmentation_layer)" href="#src.nglui.statebuilder.base.ViewerState.add_segmentation_layer">add_segmentation_layer</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add a segmentation layer to the viewer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_segments(segments, visible=None, segment_colors=None, name=None) (src.nglui.statebuilder.base.ViewerState.add_segments)" href="#src.nglui.statebuilder.base.ViewerState.add_segments">add_segments</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add segments directly to an existing segmentation layer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="add_segments_from_data(data, segment_column, visible_column=None, color_column=None, name=None) (src.nglui.statebuilder.base.ViewerState.add_segments_from_data)" href="#src.nglui.statebuilder.base.ViewerState.add_segments_from_data">add_segments_from_data</a></code></b>
            –
            <div class="doc-md-description">
              <p>Add segments from a DataFrame or DataMap to an existing segmentation layer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="get_layer(name) (src.nglui.statebuilder.base.ViewerState.get_layer)" href="#src.nglui.statebuilder.base.ViewerState.get_layer">get_layer</a></code></b>
            –
            <div class="doc-md-description">
              <p>Get a layer by name.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="map(datamap, inplace=False) (src.nglui.statebuilder.base.ViewerState.map)" href="#src.nglui.statebuilder.base.ViewerState.map">map</a></code></b>
            –
            <div class="doc-md-description">
              <p>Apply a datamap to the viewer state to freeze the state of the viewer.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="set_viewer_properties(position=None, dimensions=None, scale_imagery=None, scale_3d=None, show_slices=None, selected_layer=None, selected_layer_visible=None, layout=None, base_state=None, interactive=None, infer_coordinates=False) (src.nglui.statebuilder.base.ViewerState.set_viewer_properties)" href="#src.nglui.statebuilder.base.ViewerState.set_viewer_properties">set_viewer_properties</a></code></b>
            –
            <div class="doc-md-description">
              <p>Set various properties of the viewer state.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="to_browser(target_url=None, target_site=None, shorten=False, client=None, new=2, autoraise=True, browser=None) (src.nglui.statebuilder.base.ViewerState.to_browser)" href="#src.nglui.statebuilder.base.ViewerState.to_browser">to_browser</a></code></b>
            –
            <div class="doc-md-description">
              <p>Open the viewer state URL in a web browser.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="to_clipboard(target_url=None, target_site=None, shorten=False, client=None) (src.nglui.statebuilder.base.ViewerState.to_clipboard)" href="#src.nglui.statebuilder.base.ViewerState.to_clipboard">to_clipboard</a></code></b>
            –
            <div class="doc-md-description">
              <p>Copy the viewer state URL to the system clipboard.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="to_dict() (src.nglui.statebuilder.base.ViewerState.to_dict)" href="#src.nglui.statebuilder.base.ViewerState.to_dict">to_dict</a></code></b>
            –
            <div class="doc-md-description">
              <p>Return a dictionary representation of the viewer state.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="to_json_string(indent=2, compact=False) (src.nglui.statebuilder.base.ViewerState.to_json_string)" href="#src.nglui.statebuilder.base.ViewerState.to_json_string">to_json_string</a></code></b>
            –
            <div class="doc-md-description">
              <p>Return a JSON string representation of the viewer state.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="to_link(target_url=None, target_site=None, link_text='Neuroglancer Link', shorten=False, client=None) (src.nglui.statebuilder.base.ViewerState.to_link)" href="#src.nglui.statebuilder.base.ViewerState.to_link">to_link</a></code></b>
            –
            <div class="doc-md-description">
              <p>Return an HTML link representation of the viewer state.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="to_link_shortener(client=None, target_url=None, target_site=None) (src.nglui.statebuilder.base.ViewerState.to_link_shortener)" href="#src.nglui.statebuilder.base.ViewerState.to_link_shortener">to_link_shortener</a></code></b>
            –
            <div class="doc-md-description">
              <p>Shorten the URL using the CAVE link shortener service.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="to_url(target_url=None, target_site=None, shorten=False, client=None) (src.nglui.statebuilder.base.ViewerState.to_url)" href="#src.nglui.statebuilder.base.ViewerState.to_url">to_url</a></code></b>
            –
            <div class="doc-md-description">
              <p>Return a URL representation of the viewer state.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="with_datamap(datamap) (src.nglui.statebuilder.base.ViewerState.with_datamap)" href="#src.nglui.statebuilder.base.ViewerState.with_datamap">with_datamap</a></code></b>
            –
            <div class="doc-md-description">
              <p>Context manager to apply datamaps.</p>
            </div>
          </li>
    </ul>




<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="viewer

  
      property
   (src.nglui.statebuilder.base.ViewerState.viewer)" href="#src.nglui.statebuilder.base.ViewerState.viewer">viewer</a></code></b>
          –
          <div class="doc-md-description">
            <p>Get the Neuroglancer viewer object.</p>
          </div>
        </li>
    </ul>




<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="src.nglui.statebuilder.base.ViewerState.viewer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">viewer</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the Neuroglancer viewer object.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_annotation_layer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_annotation_layer</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;annotation&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linked_segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add an annotation layer, either local or with precomputed annotation source</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;annotation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Layer name, by default "annotation"</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>source</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Cloud annotation source path, if using. By default None</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a>]]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Layer resolution, only used by local annotation layers.
By default None, where it is inferred from the viewer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tags</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Ordered list of tags, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>linked_segmentation</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>]</code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If True, will link to the first segmentation layer found in the viewer.
If False, will not link to any segmentation layer.
If a string is provided, it will be used as the name of the segmentation layer to link to.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>**kwargs</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>{}</code>
)
          –
          <div class="doc-md-description">
            <p>Additional keyword arguments to pass to the annotation layer constructor.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The viewer state object with the added annotation layer.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_annotation_source" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_annotation_source</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;annotation&#39;</span><span class="p">,</span> <span class="n">linked_segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shader</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a precomputed annotation source to the viewer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>source</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The source path for the annotation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;annotation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the annotation layer, by default "annotation".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shader</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The shader to use for the annotation layer, by default None.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The viewer state object with the added annotation layer.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_boxes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_boxes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;annotation&#39;</span><span class="p">,</span> <span class="n">point_a_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">point_b_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segment_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_bools</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data_resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linked_segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">swap_visible_segments_on_move</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add bounding box annotations to an existing annotation layer or create a new one.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The DataFrame containing the bounding box annotations.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;annotation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the annotation layer, by default "annotation".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>point_a_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the start point coordinates of the box.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>point_b_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the end point coordinates of the box.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segment_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing linked segment IDs, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>description_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing descriptions, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of a column containing tags, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_bools</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of column names indicating tags as booleans, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data_resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The resolution of the data, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tags</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of tags to add to the annotation layer, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>linked_segmentation</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> or <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer to link to, by default None.
If True, will link to the first segmentation layer found in the viewer.
If False, will not link to any segmentation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shader</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The shader to use for the annotation layer, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>color</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The color to use for the bounding boxes, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>swap_visible_segments_on_move</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If True, will swap the visibility of segments when moving boxes.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The viewer state object with the added bounding boxes.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_ellipsoids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_ellipsoids</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;annotation&#39;</span><span class="p">,</span> <span class="n">center_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">radii_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segment_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_bools</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data_resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linked_segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">swap_visible_segments_on_move</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add ellipsoid annotations to an existing annotation layer or create a new one.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The DataFrame containing the ellipsoid annotations.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;annotation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the annotation layer, by default "annotation".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>center_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the ellipsoid center coordinates.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>radii_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the ellipsoid radii.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segment_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing linked segment IDs, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>description_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing descriptions, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of a column containing tags, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_bools</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of column names indicating tags as booleans, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data_resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The resolution of the data, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tags</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of tags to add to the annotation layer, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>linked_segmentation</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> or <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer to link to, by default None.
If True, will link to the first segmentation layer found in the viewer.
If False, will not link to any segmentation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shader</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The shader to use for the annotation layer, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>color</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The color to use for the ellipsoids, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>swap_visible_segments_on_move</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If True, will swap the visibility of segments when moving ellipsoids.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The viewer state object with the added ellipsoids.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_image_layer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_image_layer</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;imagery&#39;</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add an image layer to the viewer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>source</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The source path for the image layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;imagery&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the image layer, by default "imagery".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a>]]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The resolution of the image layer. If None, the viewer's current resolution will be used or it will be inferred from the source (if cloud-volume is installed).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>**kwargs</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>{}</code>
)
          –
          <div class="doc-md-description">
            <p>Additional keyword arguments to pass to the image layer constructor.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_layer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_layer</span><span class="p">(</span><span class="n">layers</span><span class="p">,</span> <span class="n">selected</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a layer to the viewer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>layers</code></b>
              (<code>Layer or list of Layer</code>)
          –
          <div class="doc-md-description">
            <p>The layer(s) to add to the viewer.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_layers_from_client" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_layers_from_client</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">imagery</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">skeleton_source</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">target_url</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">selected_alpha</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">alpha_3d</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mesh_silhouette</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">imagery_kws</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segmentation_kws</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Configure the viewer with information from a CaveClient.
Can set the target URL, viewer resolution, and add image and segmentation layers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><span title="caveclient.CAVEclient">CAVEclient</span></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The client to use for configuration. If None, will use the client set in the viewer state if allowed.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>imagery</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to add an image layer, by default True.
If a string is provided, it will be used as the name of the layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segmentation</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to add a segmentation layer, by default True
If a string is provided, it will be used as the name of the layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>skeleton_source</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to try to add a skeleton source for the segmentation layer, if provided, by default True</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>resolution</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to infer viewer resolution from the client info, by default True</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_url</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to set the neuroglancer URL from the client, by default False</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>selected_alpha</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The alpha value for the segmentation layer, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>alpha_3d</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The alpha value for 3D meshes, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>mesh_silhouette</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The mesh silhouette value, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>imagery_kws</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Additional keyword arguments to pass to the image layer constructor.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segmentation_kws</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Additional keyword arguments to pass to the segmentation layer constructor.P</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The updated viewer state object.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_lines" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_lines</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;annotation&#39;</span><span class="p">,</span> <span class="n">point_a_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">point_b_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segment_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_bools</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data_resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linked_segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">swap_visible_segments_on_move</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add lines to an existing annotation layer or create a new one.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The DataFrame containing the line annotations or a tuple of (start_points, end_points) as Nx3 arrays.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;annotation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the annotation layer, by default "annotation".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>point_a_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the start point coordinates.
If you have a split point representation in the format {prefix}_x, {prefix}_y, {prefix}_z,
you can specify this with "prefix" only and the suffixes will be ignored.
If you provide a list, they will be used explicitly as the x,y, and z columns.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>point_b_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the end point coordinates, formatted similarly as <code>point_a_column</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segment_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing linked segment IDs, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>description_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing descriptions, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of a column containing tags, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_bools</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of column names indicating tags as booleans, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data_resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The resolution of the data, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tags</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of tags to add to the annotation layer, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>linked_segmentation</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> or <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer to link to, by default None.
If True, will link to the first segmentation layer found in the viewer.
If False, will not link to any segmentation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shader</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The shader to use for the annotation layer, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>color</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The color to use for the lines, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>swap_visible_segments_on_move</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If True, will swap the visibility of segments when moving lines.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The viewer state object with the added lines.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_points</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;annotation&#39;</span><span class="p">,</span> <span class="n">point_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segment_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_bools</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data_resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linked_segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">swap_visible_segments_on_move</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add points to an existing annotation layer or create a new one.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a>, <a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The data to add to the annotation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;annotation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the annotation layer, by default "annotation".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>point_column</code></b>
              (<code>Optional[Union[str, list]] = None,</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing point coordinates, by default None.
If you have a split point representation in the format {prefix}_x, {prefix}_y, {prefix}_z,
you can specify this with "prefix" only and the suffixes will be ignored.
If you provide a list, they will be used explicitly as the x,y, and z columns.
None is needed if the data is an array, but is required if the data is a DataFrame.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segment_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing linked segment IDs, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>description_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing descriptions, by default None.
If None, no descriptions will be added.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of a column containing tags, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_bools</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of column names indicating tags as booleans, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data_resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The resolution of the data, by default None.
If None, the viewer's current resolution will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tags</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of tags to add to the annotation layer, by default None.
If None, tags will be inferred from the data, if any tag columns are provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>linked_segmentation</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> or <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer to link to, by default None.
If True, will link to the first segmentation layer found in the viewer.
If False, will not link to any segmentation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shader</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The shader to use for the annotation layer, by default None.
If None, the default shader will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>swap_visible_segments_on_move</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If True, will swap the visibility of segments when moving points.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The viewer state object with the added points.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_polylines" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_polylines</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;annotation&#39;</span><span class="p">,</span> <span class="n">points_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segment_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_bools</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data_resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linked_segmentation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">swap_visible_segments_on_move</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add points to an existing annotation layer or create a new one.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a>, <a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The data to add to the annotation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;annotation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the annotation layer, by default "annotation".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>points_column</code></b>
              (<code>Optional[Union[str, list]] = None,</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing lists of point coordinates, by default None.
None is needed if the data is an array, but is required if the data is a DataFrame.
Because the data is a list of 3d points, this cannot be a split prefix.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segment_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing linked segment IDs, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>description_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing descriptions, by default None.
If None, no descriptions will be added.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_column</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of a column containing tags, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_bools</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of column names indicating tags as booleans, by default None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>data_resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The resolution of the data, by default None.
If None, the viewer's current resolution will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tags</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of tags to add to the annotation layer, by default None.
If None, tags will be inferred from the data, if any tag columns are provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>linked_segmentation</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> or <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer to link to, by default None.
If True, will link to the first segmentation layer found in the viewer.
If False, will not link to any segmentation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shader</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The shader to use for the annotation layer, by default None.
If None, the default shader will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>swap_visible_segments_on_move</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If True, will swap the visibility of segments when moving points.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The viewer state object with the added points.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_raw_layer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_raw_layer</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">archived</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">source_remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a layer based on a raw state dictionary. Useful when copying existing layers, but offers limited customization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>The raw state dictionary for the layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The new name of the layer, if you want to change it.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>visible</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Whether the layer is visible, if you want to change it.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>archived</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Whether the layer is archived, if you want to change it.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>source_remap</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A dictionary mapping source cloudpaths to new cloudpaths, for example to update the layer's data source without changing anything else.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>The updated viewer state object.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_segment_properties" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_segment_properties</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">id_column</span><span class="o">=</span><span class="s1">&#39;pt_root_id&#39;</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">string_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">number_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_value_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_bool_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag_descriptions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_disambiguation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label_separator</span><span class="o">=</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="n">label_format_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prepend_col_name</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">random_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">random_column_prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Upload segment properties and add to the layer.
If you already have a segment properties cloud path, use <code>add_source</code> to add it to the layer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a></code>)
          –
          <div class="doc-md-description">
            <p>The DataFrame containing the segment properties.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>id_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;pt_root_id&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the segment IDs. Default is 'pt_root_id'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><span title="CAVEclient">CAVEclient</span></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The CAVEclient object needed to upload .</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>label_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> or <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name(s) for the segment labels. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>description_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column name for the segment descriptions. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>string_columns</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column names for string properties. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>number_columns</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column names for number properties. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_value_columns</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column names for tag value properties. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_bool_columns</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The column names for tag boolean properties. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>tag_descriptions</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The descriptions for the tags. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>allow_disambiguation</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to allow disambiguation of segment IDs. Default is True.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>label_separator</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;_&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The separator for label formatting. Default is "_".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>label_format_map</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The format map for labels. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>prepend_col_name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to prepend the column name to the label. Default is False.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>random_columns</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Number of random columns to add. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>random_column_prefix</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Name prefix of the random columns. Default is None.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dry_run</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If dry run is true, build but do not actually upload and instead use a placeholder source text. Default is False.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Layer name. Must be specified if there is more than one segmentation layer in the state.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_segmentation_layer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_segmentation_layer</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;segmentation&#39;</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a segmentation layer to the viewer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>source</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The source path for the segmentation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;segmentation&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer, by default "segmentation".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>resolution</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a>]]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The resolution of the segmentation layer. If None, the viewer's current resolution will be used or it will be inferred from the source (if cloud-volume is installed).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segments</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A list of segments to set as selected in the segmentation layer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>**kwargs</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>{}</code>
)
          –
          <div class="doc-md-description">
            <p>Additional keyword arguments to pass to the segmentation layer constructor.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_segments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_segments</span><span class="p">(</span><span class="n">segments</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">segment_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add segments directly to an existing segmentation layer.
By default, it will use the first segmentation layer found in the viewer, otherwise you must specify a layer name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>segments</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a> or <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a> or <span title="VisibleSegments">VisibleSegments</span></code>)
          –
          <div class="doc-md-description">
            <p>The segments to add. If a dict, the keys are the segment IDs and the values are the boolean visibility.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>visible</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a>]]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The visibility of the segments, assumed to be True if not provided.
Should be the same length as segments, and segments should be a list of the same length.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segment_colors</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The color(s) to assign to the segments. If a string or list, all segments will be assigned the same color.
A list is assumed to be a color tuple.
If a dict, the keys are segment IDs and the values are colors.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer to add segments to.
If None, it will use the first segmentation layer found in the viewer.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>The viewer state object with the added segments.</code>
          –
          <div class="doc-md-description">
            
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.add_segments_from_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_segments_from_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">segment_column</span><span class="p">,</span> <span class="n">visible_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add segments from a DataFrame or DataMap to an existing segmentation layer.
By default, it will use the first segmentation layer found in the viewer, otherwise you must specify a layer name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="pandas.DataFrame" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a>, <a class="autorefs autorefs-internal" title="DataMap (src.nglui.statebuilder.ngl_components.DataMap)" href="../ngl_components/#src.nglui.statebuilder.ngl_components.DataMap">DataMap</a>]</code>)
          –
          <div class="doc-md-description">
            <p>The data containing segment information or a datamap to be filled in later</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>segment_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The name of the column containing segment IDs in the DataFrame.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>visible_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing visibility information in the DataFrame.
If not provided, all segments will be considered visible.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>color_column</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the column containing color information for the segments.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the segmentation layer to add segments to.
If None, it will use the first segmentation layer found in the viewer.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.get_layer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_layer</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get a layer by name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>name</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The name of the layer to get.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-internal" title="Layer (src.nglui.statebuilder.ngl_components.Layer)" href="../ngl_components/#src.nglui.statebuilder.ngl_components.Layer">Layer</a></code>
          –
          <div class="doc-md-description">
            <p>The layer with the specified name.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.map" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">map</span><span class="p">(</span><span class="n">datamap</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Apply a datamap to the viewer state to freeze the state of the viewer.
Must be used if any layers use a datamap.
By default, this will return a new viewer state with the datamap applied without changing the current object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>datamap</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>A dictionary mapping layer names to their corresponding datamaps.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>inplace</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If True, apply the datamap in place and return the modified viewer state.
If False, return a new viewer state with the datamap applied.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing_extensions.Self">Self</span></code>
          –
          <div class="doc-md-description">
            <p>A new ViewerState object with the datamap applied.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.set_viewer_properties" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_viewer_properties</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dimensions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_imagery</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale_3d</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_slices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">selected_layer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">selected_layer_visible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">base_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interactive</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">infer_coordinates</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Set various properties of the viewer state.</p>
<p>This function allows you to configure the viewer's position, dimensions,
scale, layout, and other properties. Any property not explicitly set will
remain unchanged.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>position</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a> or <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The position of the viewer in 3D space.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>dimensions</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a> or <a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The dimensions of the viewer's coordinate space.
Can be either a list of 3 values treated as nanometer resolution or
a CoordSpace object with more detailed options.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>scale_imagery</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The scale factor for imagery layers.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>scale_3d</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The scale factor for 3D projections.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>show_slices</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to show cross-sectional slices in the viewer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>selected_layer</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> or <a class="autorefs autorefs-internal" title="ImageLayer (src.nglui.statebuilder.ngl_components.ImageLayer)" href="../ngl_components/#src.nglui.statebuilder.ngl_components.ImageLayer">ImageLayer</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the selected layer or the layer object itself.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>selected_layer_visible</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Whether the selected layer is visible.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>layout</code></b>
              (<code>(&#39;xy&#39;, &#39;yz&#39;, &#39;xz&#39;, &#39;xy-3d&#39;, &#39;xz-3d&#39;, &#39;yz-3d&#39;, &#39;4panel&#39;, &#39;3d&#39;, &#39;4panel-alt&#39;)</code>, default:
                  <code>&#34;xy&#34;</code>
)
          –
          <div class="doc-md-description">
            <p>The panel layout of the viewer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>base_state</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The base state of the viewer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>interactive</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Whether the viewer is interactive.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>infer_coordinates</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to infer resolution and position from the source information.
If True, the viewer will attempt to extract this information from the
info provided by the source if not provided explicitly.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="self">self</span></code>
          –
          <div class="doc-md-description">
            <p>The updated viewer state object.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.to_browser" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_browser</span><span class="p">(</span><span class="n">target_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_site</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shorten</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">autoraise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">browser</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Open the viewer state URL in a web browser.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>target_url</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The base URL to use for the Neuroglancer state. If not provided,
the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_site</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The target site for the URL, based on the keys in site_utils.NEUROGLANCER_SITES.
If not provided, the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shorten</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>, <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;if_long&#39;]]</code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If True, the URL will be shortened using the CAVE link shortener service.
If "if_long", the URL will only be shortened if it exceeds a certain length.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<span title="caveclient.CAVEclient">CAVEclient</span>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The CAVE client to use for shortening the URL. If not provided, the URL will not be shortened.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>new</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>2</code>
)
          –
          <div class="doc-md-description">
            <p>If new is 0, the url is opened in the same browser window if possible. If
new is 1, a new browser window is opened if possible. If new is 2, a new
browser page (“tab”) is opened if possible. Note that not all browsers
support all values of new, and some may ignore this parameter.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>autoraise</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If True, the browser window will be raised to the front when opened. Note
that under many window managers this will occur regardless of the setting
of this variable.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>browser</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the browser to use. If None, the system default browser will be
used. Note that the browser name needs to be registered on your system,
see <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/webbrowser.html#webbrowser.register">webbrowser.register</a> for more details.</p>
          </div>
        </li>
    </ul>


<details class="see-also" open>
  <summary>See Also</summary>
  <p><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/webbrowser.html#webbrowser.open">webbrowser.open</a> : Opens a URL in the web browser.</p>
</details>

<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          –
          <div class="doc-md-description">
            <p>The URL representation of the viewer state that has also been opened in the
browser.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.to_clipboard" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_clipboard</span><span class="p">(</span><span class="n">target_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_site</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shorten</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Copy the viewer state URL to the system clipboard.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>target_url</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The base URL to use for the Neuroglancer state. If not provided,
the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_site</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The target site for the URL, based on the keys in site_utils.NEUROGLANCER_SITES.
If not provided, the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shorten</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>, <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;if_long&#39;]]</code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If True, the URL will be shortened using the CAVE link shortener service.
If "if_long", the URL will only be shortened if it exceeds a certain length.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<span title="caveclient.CAVEclient">CAVEclient</span>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The CAVE client to use for shortening the URL. If not provided, the URL will not be shortened.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          –
          <div class="doc-md-description">
            <p>The URL representation of the viewer state that has also been copied to the
clipboard.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return a dictionary representation of the viewer state.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary representation of the viewer state.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.to_json_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_json_string</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return a JSON string representation of the viewer state.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>indent</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>2</code>
)
          –
          <div class="doc-md-description">
            <p>The number of spaces to use for indentation in the JSON string.
Default is 2.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>compact</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If True, the JSON string will be compact with no extra whitespace or newlines.
Default is False.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          –
          <div class="doc-md-description">
            <p>A JSON string representation of the viewer state.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.to_link" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_link</span><span class="p">(</span><span class="n">target_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_site</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">link_text</span><span class="o">=</span><span class="s1">&#39;Neuroglancer Link&#39;</span><span class="p">,</span> <span class="n">shorten</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return an HTML link representation of the viewer state.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>target_url</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The base URL to use for the Neuroglancer state. If not provided,
the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_site</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The target site for the URL, based on the keys in site_utils.NEUROGLANCER_SITES.
If not provided, the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>link_text</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;Neuroglancer Link&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The text to display for the HTML link.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shorten</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>, <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;if_long&#39;]]</code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If True, the URL will be shortened using the CAVE link shortener service.
If "if_long", the URL will only be shortened if it exceeds a certain length.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<span title="caveclient.CAVEclient">CAVEclient</span>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The CAVE client to use for shortening the URL. If not provided, the URL will not be shortened.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="IPython.display.HTML.HTML">HTML</span></code>
          –
          <div class="doc-md-description">
            <p>An HTML link representation of the viewer state.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.to_link_shortener" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_link_shortener</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_site</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Shorten the URL using the CAVE link shortener service.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><span title="CAVEclient">CAVEclient</span></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The CAVE client to use for shortening the URL.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_url</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The base URL to use for the Neuroglancer state. If not provided,
the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_site</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The target site for the URL, based on the keys in site_utils.NEUROGLANCER_SITES.
If not provided, the default server URL will be used.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          –
          <div class="doc-md-description">
            <p>A shortened URL representation of the viewer state.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.to_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_url</span><span class="p">(</span><span class="n">target_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target_site</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shorten</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return a URL representation of the viewer state.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>target_url</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The base URL to use for the Neuroglancer state. If not provided,
the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target_site</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The target site for the URL, based on the keys in site_utils.NEUROGLANCER . If not provided, the default server URL will be used.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>shorten</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a>, <a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;if_long&#39;]]</code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If True, the URL will be shortened using the CAVE link shortener service.
If "if_long", the URL will only be shortened if it exceeds a certain length.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>client</code></b>
              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<span title="caveclient.CAVEclient">CAVEclient</span>]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The CAVE client to use for shortening the URL. If not provided, the URL will not be shortened.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          –
          <div class="doc-md-description">
            <p>A URL representation of the viewer state.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="src.nglui.statebuilder.base.ViewerState.with_datamap" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">with_datamap</span><span class="p">(</span><span class="n">datamap</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Context manager to apply datamaps.</p>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../usage/parser/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Parser">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Parser
              </div>
            </div>
          </a>
        
        
          
          <a href="../ngl_components/" class="md-footer__link md-footer__link--next" aria-label="Next: statebuilder.ngl_components">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                statebuilder.ngl_components
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.footer", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "toc.follow", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "header.autohide"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>